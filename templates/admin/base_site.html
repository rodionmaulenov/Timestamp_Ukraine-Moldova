{% extends "admin/base_site.html" %}
{% load i18n static %}
{% load breadcrumb_tags %}

{% block extrastyle %}
    <link rel="stylesheet" href="{% static 'css/custom_header.css' %}">
    <link rel="stylesheet" href="{% static 'css/custom_navbar.css' %}">
{% endblock %}


{% block header %}
    {% include 'header/custom_header.html' %}
{% endblock %}

{% block nav-breadcrumbs %}
    <div class="navbar">
        <div class="navbar-elements">
            <ul class="list-elements">
                {% with breadcrumb_url='/admin' %}
                    {% with request.path|split_path as segments %}
                        {% for segment in segments %}
                            {% if forloop.first %}
                                <!-- First segment: Home -->
                                <li class="element">
                                    <a href="{% url 'admin:index' %}">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12"
                                             fill="currentColor"
                                             class="bi bi-sign-turn-left" viewBox="0 0 16 16">
                                            <path d="M11 8.5A2.5 2.5 0 0 0 8.5 6H7V4.534a.25.25 0 0 0-.41-.192L4.23 6.308a.25.25 0 0 0 0 .384l2.36 1.966A.25.25 0 0 0 7 8.466V7h1.5A1.5 1.5 0 0 1 10 8.5V11h1z"/>
                                            <path fill-rule="evenodd"
                                                  d="M6.95.435c.58-.58 1.52-.58 2.1 0l6.515 6.516c.58.58.58 1.519 0 2.098L9.05 15.565c-.58.58-1.519.58-2.098 0L.435 9.05a1.48 1.48 0 0 1 0-2.098zm1.4.7a.495.495 0 0 0-.7 0L1.134 7.65a.495.495 0 0 0 0 .7l6.516 6.516a.495.495 0 0 0 .7 0l6.516-6.516a.495.495 0 0 0 0-.7L8.35 1.134Z"/>
                                        </svg>
                                        <span>{% translate 'Home' %}</span>
                                    </a>
                                </li>
                            {% elif forloop.counter != 3 and forloop.counter != 4 %}
                                <!-- Skip segments 3 and 4 -->
                                {% with breadcrumb_url=breadcrumb_url|add:'/'|add:segment %}
                                    <li class="element">
                                        <a href="{{ breadcrumb_url }}/" class="breadcrumb-link">
                                            <span>{{ segment|capfirst }}</span>
                                        </a>
                                    </li>
                                {% endwith %}
                            {% elif forloop.last  and  forloop.counter > 2  %}
                                <!-- Handle last segment as static, no link -->
                                {% with breadcrumb_url=breadcrumb_url|add:'/'|add:segment %}
                                    <li class="element">
                                        <span>{{ segment|capfirst }}</span>
                                    </li>
                                {% endwith %}
                            {% endif %}
                        {% endfor %}
                    {% endwith %}
                {% endwith %}
            </ul>
        </div>
    </div>
{% endblock %}




